<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Fetch API</title>
  </head>
  <body>
    <h1>Informação</h1>
    <ul id="info"></ul>

    <script>
      // buscando e retornando um único dado
      const url = "https://swapi.dev/api/people/1";

      fetch(url)
        .then((res) => {
          res.json().then((data) => {
            const ul = document.getElementById("info");
            const li = document.createElement("li");
            const h4 = document.createElement("h4");

            h4.innerHTML = `${data.name}`;
            ul.appendChild(li);
            li.appendChild(h4);
          });
        })
        .catch((err) => console.error("Erro na requisição", err));

      // buscando e retornando todos os dados
      const urlAll = "https://swapi.dev/api/people";

      fetch(urlAll)
        .then((res) => {
          res.json().then((data) => {
            const chars = data.results;

            return chars.map((char) => {
              const ul = document.getElementById("info");
              const li = document.createElement("li");
              const h4 = document.createElement("h4");

              h4.innerHTML = `${char.name}`;
              ul.appendChild(li);
              li.appendChild(h4);
            });
          });
        })
        .catch((err) => console.error("Erro na requisição", err));
    </script>
  </body>
</html>
